{% comment %} {% extends 'base.html' %}
{% load static %}

{% block title %}SkyBook Airlines - Book Flight{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/book.css' %}">
{% endblock %}

{% block header %}
<header class="header">
    <div class="container">
        <nav class="navbar">
            <a href="{% url 'home' %}" class="logo">
                <i class="fas fa-plane"></i>
                <span>SkyBook</span>
            </a>
            
            <ul class="nav-links">
                <li><a href="{% url 'home' %}">Home</a></li>
                <li><a href="#" class="active">Book Flights</a></li>
                <li><a href="#">Contact</a></li>
            </ul>
            
            <button class="mobile-menu-btn">
                <i class="fas fa-bars"></i>
            </button>
        </nav>
    </div>
</header>

<div class="booking-container">
    <div class="container">
        <div class="booking-step active" id="step-1">
            <div class="step-header">
                <h2><i class="fas fa-search"></i> Search Flights</h2>
                <p>Find available flights for your journey</p>
            </div>
            
            <div class="search-form-container">
                <form id="bookingSearchForm" class="search-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="bookingFrom">From</label>
                            <input type="text" 
                                   id="bookingFrom" 
                                   class="form-input"
                                   placeholder="City or Airport"
                                   required>
                        </div>
                        
                        <div class="form-group">
                            <label for="bookingTo">To</label>
                            <input type="text" 
                                   id="bookingTo" 
                                   class="form-input"
                                   placeholder="City or Airport"
                                   required>
                        </div>
                        
                        <div class="form-group">
                            <label for="bookingDeparture">Departure Date</label>
                            <input type="date" 
                                   id="bookingDeparture" 
                                   class="form-input"
                                   placeholder="Select Date"
                                   required>
                        </div>
                        
                        <div class="form-group">
                            <label for="bookingReturn">Return Date (Optional)</label>
                            <input type="date" 
                                   id="bookingReturn" 
                                   class="form-input"
                                   placeholder="Select Date">
                        </div>
                    </div>
                    
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary btn-large">
                            <i class="fas fa-search"></i> Search Available Flights
                        </button>
                    </div>
                </form>

                <!-- ADDED: Search summary, loading, error, results -->
                <div id="searchSummary" class="search-summary" style="display: none; margin-top: 20px;">
                    <h3>Your Search</h3>
                    <p id="summaryText"></p>
                    <p id="passengerSummary"></p>
                </div>

                <div id="loading" style="display: none; text-align: center; padding: 40px;">
                    <p>Searching for flights...</p>
                </div>

                <div id="errorMessage" class="alert-message error" style="display: none;"></div>

                <div id="flightResults" class="flight-results" style="margin-top: 30px;"></div>
            </div>
        </div>
    </div>
</div>

<!-- ADDED: Booking modal for passenger/payment details -->
<div class="modal" id="bookingModal" style="display: none;">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h2>Complete Your Booking</h2>
        <div id="modalFlightSummary" style="margin-bottom: 20px;"></div>
        <form id="bookingForm">
            <input type="hidden" id="modalFlightId">
            <div class="form-group">
                <label>Number of Seats</label>
                <input type="text" id="modalSeats" class="form-input" readonly>
            </div>
            <div class="form-group">
                <label>Total Price</label>
                <input type="text" id="modalTotalPrice" class="form-input" readonly>
            </div>
            <div class="form-group">
                <label for="passengerName">Full Name *</label>
                <input type="text" id="passengerName" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="passengerEmail">Email *</label>
                <input type="email" id="passengerEmail" class="form-input" required>
            </div>
            <div class="form-group">
                <label for="passengerPhone">Phone (optional)</label>
                <input type="text" id="passengerPhone" class="form-input">
            </div>
            <div class="form-group">
                <label for="specialRequests">Special Requests (optional)</label>
                <textarea id="specialRequests" class="form-input" rows="3"></textarea>
            </div>
            <h3>Payment Information (Mock)</h3>
            <div class="form-group">
                <label for="cardNumber">Card Number</label>
                <input type="text" id="cardNumber" class="form-input" placeholder="4111 1111 1111 1111">
            </div>
            <div class="form-group">
                <label for="cardExpiry">Expiry Date</label>
                <input type="text" id="cardExpiry" class="form-input" placeholder="12/25">
            </div>
            <div class="form-group">
                <label for="cardCvv">CVV</label>
                <input type="text" id="cardCvv" class="form-input" placeholder="123">
            </div>
            <button type="submit" class="btn btn-primary btn-large">Confirm Booking</button>
        </form>
    </div>
</div>
{% endblock %}
{% block footer %}
<!-- Your existing footer unchanged -->
<footer class="footer">
    <div class="container">
        <div class="footer-grid">
            <div class="footer-section">
                <div class="footer-logo">
                    <i class="fas fa-plane"></i>
                    <span>SkyBook Airlines</span>
                </div>
                <p class="footer-description">
                    Book with confidence. Travel with ease.
                </p>
            </div>
            
            <div class="footer-section">
                <h3>Need Help?</h3>
                <ul class="footer-links">
                    <li><a href="#">Contact Support</a></li>
                    <li><a href="#">FAQs</a></li>
                    <li><a href="#">Booking Policy</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Legal</h3>
                <ul class="footer-links">
                    <li><a href="#">Privacy Policy</a></li>
                    <li><a href="#">Terms of Service</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h3>Contact</h3>
                <ul class="footer-contact">
                    <li><i class="fas fa-phone"></i> +1 (555) 123-4567</li>
                    <li><i class="fas fa-envelope"></i> bookings@skybook.com</li>
                </ul>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>&copy; 2026 SkyBook Airlines. All rights reserved.</p>
        </div>
    </div>
</footer>
{% endblock %}


{% block extra_js %}
<script src="{% static 'js/book.js' %}"></script>
{% endblock %} {% endcomment %}